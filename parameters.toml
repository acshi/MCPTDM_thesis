max_steps = 6000
n_cars = 13
method = "mcts"
use_cfb = true
policies_wait_for_clear = false
extra_ego_accdec_policies = []

physics_dt = 0.01
replan_dt = 0.25
nonego_policy_change_prob = 0.05
nonego_policy_change_dt = 0.2
lane_change_time = 2.0

thread_limit = 8
rng_seed = 0
run_fast = false
graphics_speedup = 8
debug_car_i = 9
debug_steps_before = 5
super_debug = true
ego_policy_change_debug = false
ego_state_debug = false
separation_debug = false
intelligent_driver_debug = false
belief_debug = false
cfb_debug = false
obstacle_car_debug = false
policy_report_debug = true
ego_traces_debug = true
# debugging_scenario = 1

only_ego_crashes_in_forward_sims = true
only_crashes_with_ego = true
obstacles_only_for_ego = true
true_belief_sample_only = false

[spawn]
remove_ahead_beyond = 200.0
remove_behind_beyond = 100.0
place_ahead_beyond = 100.0

[belief]
different_lane_prob = 0.2
different_longitudinal_prob = 0.8
decelerate_prior_prob = 0.2
accelerate_delta_vel_thresh = 2.0
accelerate_ahead_dist_thresh = 10.0
decelerate_vel_thresh = 4.0
finished_waiting_dy = 0.5
skips_waiting_prob = 0.1

[cost]
efficiency_speed_cost = 1.0
efficiency_weight = 1.0
safety_weight = 150.0       # was 100
safety_margin_low = 0.0     # bounded by lane width 3.7 - prius width 1.76 = 1.94; previous was 0.44
safety_margin_high = 2.4
logistic_map_low = 5.0
logistic_map_high = -7.0
accel_weight = 0.1
steer_weight = 20.0         # was 10.0
plan_change_weight = 0.0
discount_factor = 0.8       # per second, 0.85

[reward]
safety_margin = 0.44
uncomfortable_dec = 1.6
large_curvature_change = 0.12

[cfb]
key_vehicle_base_dist = 10.0
key_vehicle_dist_time = 8.0
uncertainty_threshold = 0.3
max_n_for_cartesian_product = 4
dt = 0.2
horizon_t = 8.0
set_cost_weights = true
sample_from_base_set = true
sample_unimportant_vehicle_policies = true

[tree]
dt = 0.2
layer_t = 2.667
search_depth = 3
samples_n = 8

[mpdm]
dt = 0.2
forward_t = 8.0
samples_n = 16

[eudm]
dt = 0.2
layer_t = 2.0
samples_n = 16
search_depth = 4
allow_different_root_policy = true

[mcts]
dt = 0.2
layer_t = 2.0
search_depth = 4
samples_n = 64
prefer_same_policy = true
choose_random_policy = true
ucb_const = -1                        # -100 for ucb
bound_mode = "marginal"
selection_mode = "klucb"
klucb_max_cost = 330
prioritize_worst_particles_z = 1000.0
tree_exploration_report = true
